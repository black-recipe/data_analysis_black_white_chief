# 흑백요리사 프로젝트 현황 분석 보고서

본 문서는 `흑백요리사분석.md` (초안) 및 관련 문서를 바탕으로, 현재 프로젝트 폴더 내 파일들의 역할과 데이터 흐름을 정리한 분석 보고서입니다.

---

## 1. 프로젝트 개요
- **목표**: 넷플릭스 "흑백요리사 2" 방영에 따른 디지털 화제성, 요리 장르 생존율, 상권 활성화(낙수효과) 분석
- **핵심 지표**: 검색 트렌드, 식당 리뷰/평점, 50m 격자 단위 유동인구
- **주요 데이터 기간**: 2025년 12월 9일 ~ 2026년 1월 (방영 전후 비교)

---

## 2. 파일 및 폴더 구조 분석

### 2.1 데이터 수집 (Data Collection)
수집 코드는 외부 소스(API, 웹사이트)에서 데이터를 가져와 로컬에 저장합니다.

| 파일명 | 역할 | 주요 기능 | 비고 |
|---|---|---|---|
| **`realtime_flow_collector.py`** | **유동인구 수집 (메인)** | 서울시 S-DoT IoT 유동인구 API 호출, 2025-12-09부터 연속 수집 | `seoul_flow_realtime_raw.csv` 저장 |
| `실시간인구데이터수집코드.py` | 유동인구 수집 (백업/구버전) | `realtime_flow_collector.py`와 유사한 로직, 한글 파일명 | 메인 코드 사용 권장 |
| **`리뷰수집.py`** | **리뷰 크롤링** | 캐치테이블 식당 리뷰 수집, 변동 발생 시 증분 업데이트 | Selenium 사용, 스크롤링 로직 포함 |
| `리뷰수집.ipynb` | 리뷰 크롤링 (Notebook) | `리뷰수집.py`의 개발/테스트 버전 | 대화형 실행용 |
| `google_naver_trend.py` | 트렌드 수집 | 구글 트렌드/네이버 데이터랩 데이터 수집/처리 | |
| `process_trends.py` | 트렌드 전처리 | 수집된 트렌드 엑셀 파일들을 CSV로 병합 및 정규화 | `흑백요리사트렌드추이/` 폴더 처리 |

### 2.2 데이터 전처리 및 공간 정보 (Preprocessing & Spatial)
수집된 데이터를 분석 가능한 형태로 가공합니다.

| 파일명 | 역할 | 주요 기능 | 비고 |
|---|---|---|---|
| **`geocoding_converted.py`** | **주소 → 좌표 변환** | 카카오 API 활용, 식당 주소를 위경도로 변환 | `create_grid.py`의 선행 작업 |
| **`create_grid.py`** | **격자 생성** | 식당 좌표 기준 500m/50m 격자(Grid) 생성 | 공간 분석의 기초 단위 생성 |
| `apply_mappings_to_csv.py` | 데이터 매핑 | CSV 데이터에 특정 매핑 규칙 적용 (예: 법정동 매핑) | |
| `reverse_geocoding.py` | 좌표 → 주소 변환 | 좌표를 행정동/법정동 주소로 변환 | 유동인구 매칭용 |

### 2.3 데이터 분석 및 시각화 (Analysis & Visualization)
전처리된 데이터를 바탕으로 통계적 검정 및 시각화를 수행합니다.

| 파일명 | 역할 | 주요 기능 | 비고 |
|---|---|---|---|
| **`BlackWhiteChef_GridAnalysis_500m.ipynb`** | **공간 분석 (메인)** | 500m 반경 내 유동인구 변화 분석, DiD(이중차분) 분석 수행 | 핵심 분석 노트북 |
| `survival_analysis.ipynb` | **생존 분석** | 요리 장르별(한식, 양식 등) 서바이벌 생존율 분석 (Log-Rank, Cox 등) | `3번문제완성본.csv` 활용 |
| `3번주제생존분석1.ipynb` | 생존 분석 (보조) | 생존 분석 추가 연구 | |
| `visualize_seoul_population.py` | 시각화 스크립트 | 서울시 유동인구 데이터를 지도/히트맵으로 시각화 | |
| `보고서streamlit.py` | 대시보드 | 분석 결과를 웹 대시보드(Streamlit) 형태로 시각화 | 결과 공유용 |

---

## 3. 핵심 데이터 파일 (Data Assets)

### 3.1 원천 데이터 (Raw Data)
- **`seoul_floating_pop_raw3.csv`**: 서울시 유동인구 전체 원본 데이터 (대용량)
- **`catchtable_shops_final.csv`**: 흑백요리사 출연 쉐프 식당 목록 (기본 정보)
- **`흑백요리사트렌드추이/`**: 트렌드 데이터(XLSX)가 저장된 폴더

### 3.2 가공 데이터 (Processed Data)
- **`reviews_collected_20260114.csv`**: 수집 완료된 캐치테이블 리뷰 데이터
- **`result_grid_50m.geojson`**: 분석을 위해 생성된 50m 격자 공간 데이터
- **`3번문제완성본.csv`**: 생존 분석을 위해 정리된 장르별 라운드 통과 데이터
- **`seoul_flow_20260114.csv`**: 특정 일자별 정제된 유동인구 데이터

---

## 4. 데이터 파이프라인 요약

1.  **식당 정보 확보**: `catchtable_shops_final.csv`
2.  **공간 매핑**: `geocoding_converted.py` → (좌표) → `create_grid.py` → (격자 GeoJSON)
3.  **데이터 수집**:
    *   유동인구: `realtime_flow_collector.py` → `seoul_flow_realtime_raw.csv`
    *   리뷰: `리뷰수집.py` → `reviews_collected_....csv`
4.  **통합 분석**:
    *   공간 효과: `BlackWhiteChef_GridAnalysis_500m.ipynb` (유동인구 + 격자)
    *   생존 효과: `survival_analysis.ipynb` (장르 데이터)
5.  **결과물**: `보고서streamlit.py` 대시보드 및 분석 리포트

---

## 5. 향후 제언 (Action Items)
- **코드 중복 정리**: `realtime_flow_collector.py`와 `실시간인구데이터수집코드.py` 중 하나로 통합 권장.
- **분석 파일 최신화**: `BlackWhiteChef_GridAnalysis.ipynb` 시리즈가 여러 개(300m, 500m) 존재하므로 최종 버전을 명시할 필요 있음.
