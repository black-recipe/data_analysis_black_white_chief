# 흑백요리사2 방송 효과 분석 대시보드 프롬프트

## 📌 프로젝트 개요

흑백요리사 시즌2 방영에 따른 출연진 가게 리뷰 변화와 서울시 행정구별 유동인구 변화를 분석하는 두 가지 대시보드를 구현합니다.

---

## 📅 방영일 정보

| 회차 | 방영일 | 7일 전 시작일 | 7일 후 종료일 |
|------|--------|---------------|---------------|
| 1회 | 2025-12-16 (화) | 2025-12-09 | 2025-12-23 |
| 2회 | 2025-12-23 (화) | 2025-12-16 | 2025-12-30 |
| 3회 | 2025-12-30 (화) | 2025-12-23 | 2026-01-06 |
| 4회 | 2026-01-06 (화) | 2025-12-30 | 2026-01-13 |
| 5회 | 2026-01-13 (화) | 2026-01-06 | 2026-01-20* |

> [!WARNING]
> 5회(1월 13일)의 7일 후 데이터는 현재 1월 14일까지만 수집되어 제한적입니다.

---

## 📊 사용 가능한 데이터

### 1. 리뷰 데이터: `reviews_collected_20260114.csv`
| 컬럼명 | 설명 | 예시 |
|--------|------|------|
| restaurant | 가게명 | 유용욱 바베큐 연구소 |
| reviewer | 리뷰어 닉네임 | 케미칼 |
| review_date | 리뷰 작성일 | 2026.01.13 |
| reviewer_rating | 평점 | 5.0 |
| day_night | 점심/저녁 구분 | 저녁 |

- **데이터 범위**: 2025-12-09 ~ 2026-01-13
- **가게 수**: 약 40개 이상의 흑백요리사 출연진 가게

### 2. 유동인구 데이터: `seoul_floating_pop_raw3.csv`
| 컬럼명 | 설명 | 예시 |
|--------|------|------|
| SENSING_TIME | 측정 시각 | 2026-01-14 23:46:00 |
| AUTONOMOUS_DISTRICT | 자치구 | 강남구 |
| ADMINISTRATIVE_DISTRICT | 행정동 | 역삼1동 |
| VISITOR_COUNT | 유동인구 수 | 30 |
| REG_DTTM | 등록 시각 | 2026-01-14 23:58:04 |

- **데이터 범위**: 2025-12-09 00:01:00 ~ 2026-01-14 23:46:00
- **자치구 수**: 서울시 25개 자치구

### 3. 셰프-가게 매핑 정보: `캐치테이블_가게정보.csv`
| 컬럼명 | 설명 | 예시 |
|--------|------|------|
| restaurant | 가게명 | 유용욱 바베큐 연구소 |
| chief_info | 셰프 닉네임 | 바베큐연구소장 |
| category | 음식 카테고리 | 바베큐 |
| location | 위치 | 남영 |
| lat, lon | 좌표 | 37.5439572, 126.9727818 |

---

## 🎯 대시보드 1: 출연진 가게 리뷰수 변화 히트맵

### 목표
각 방영일을 기준으로 7일 전과 7일 후의 리뷰 수를 비교하여, 방송 출연이 가게 리뷰에 미치는 영향을 시각화합니다.

### 분석 로직
```python
# 각 방영일에 대해:
for broadcast_date in ['2025-12-16', '2025-12-23', '2025-12-30', '2026-01-06', '2026-01-13']:
    before_period = broadcast_date - 7일 ~ broadcast_date - 1일
    after_period = broadcast_date ~ broadcast_date + 6일
    
    for restaurant in restaurants:
        before_reviews = count(reviews in before_period)
        after_reviews = count(reviews in after_period)
        change_rate = ((after_reviews - before_reviews) / before_reviews) * 100
```

### 시각화 사양
- **차트 유형**: 히트맵 (Heatmap)
- **X축**: 방영일 (1회 ~ 5회)
- **Y축**: 셰프명/가게명
- **색상**: 리뷰 증가율 (빨강=증가, 파랑=감소)
- **추가 정보**: 호버 시 실제 리뷰 수 표시

```python
# 시각화 예시 코드 (Seaborn)
import seaborn as sns
import matplotlib.pyplot as plt

plt.figure(figsize=(14, 20))
sns.heatmap(
    review_change_matrix,
    annot=True,
    fmt='.1f',
    cmap='RdBu_r',
    center=0,
    xticklabels=['12/16', '12/23', '12/30', '1/6', '1/13'],
    yticklabels=chef_names
)
plt.title('흑백요리사2 방영일별 리뷰 증가율 (%)')
plt.xlabel('방영일')
plt.ylabel('셰프/가게')
```

### 대안 시각화 옵션
1. **그룹화된 막대 그래프**: 방영일별 전/후 리뷰 수 직접 비교
2. **버블 차트**: 버블 크기로 변화량, 색상으로 증가율 표현
3. **라인 차트**: 특정 가게의 일별 리뷰 추이

---

## 🗺️ 대시보드 2: 행정구별 유동인구 변화 히트맵

### 목표
각 방영일을 기준으로 7일 전과 7일 후의 유동인구를 자치구별로 비교하여, 방송 효과가 지역 유동인구에 미치는 영향을 지도 형태로 시각화합니다.

### 분석 로직
```python
# 각 방영일에 대해:
for broadcast_date in ['2025-12-16', '2025-12-23', '2025-12-30', '2026-01-06', '2026-01-13']:
    before_period = broadcast_date - 7일 ~ broadcast_date - 1일
    after_period = broadcast_date ~ broadcast_date + 6일
    
    for district in seoul_districts:  # 25개 자치구
        before_population = sum(VISITOR_COUNT in before_period for district)
        after_population = sum(VISITOR_COUNT in after_period for district)
        change_rate = ((after_population - before_population) / before_population) * 100
```

### 시각화 사양
- **차트 유형**: Choropleth Map (지리적 히트맵)
- **지도**: 서울시 자치구 경계
- **색상**: 유동인구 증가율 (빨강=증가, 파랑=감소)
- **인터랙션**: 자치구 클릭 시 상세 정보 표시

```python
# 시각화 예시 코드 (Folium)
import folium
import json

# 서울시 GeoJSON 로드
with open('seoul_districts.geojson', 'r', encoding='utf-8') as f:
    seoul_geo = json.load(f)

m = folium.Map(location=[37.5665, 126.9780], zoom_start=11)

folium.Choropleth(
    geo_data=seoul_geo,
    data=population_change_df,
    columns=['자치구', '증가율'],
    key_on='feature.properties.SIG_KOR_NM',
    fill_color='RdBu_r',
    legend_name='유동인구 증가율 (%)'
).add_to(m)
```

### 추가 시각화 옵션
1. **멀티플 맵**: 각 방영일별로 5개의 지도를 나란히 배치
2. **애니메이션 맵**: 시간 슬라이더로 방영일별 변화 관찰
3. **히트맵 테이블**: 자치구 x 방영일 매트릭스

---

## 🛠️ 구현 권장사항

### 기술 스택
- **데이터 처리**: Python, Pandas
- **시각화**: Plotly (인터랙티브), Seaborn (정적), Folium (지도)
- **대시보드**: Streamlit 또는 Plotly Dash
- **지도 데이터**: 서울시 자치구 GeoJSON

### 데이터 전처리 단계
1. 리뷰 데이터 날짜 형식 통일 (YYYY-MM-DD)
2. 유동인구 데이터 일별 집계
3. 방영일 기준 전/후 기간 필터링
4. 자치구명 표준화 (GeoJSON 매칭용)

### 폴더 구조
```
흑백요리사/
├── data/
│   ├── reviews_collected_20260114.csv
│   ├── seoul_floating_pop_raw3.csv
│   └── 캐치테이블_가게정보.csv
├── 대시보드용/
│   ├── dashboard_reviews.py      # 대시보드 1
│   └── dashboard_population.py   # 대시보드 2
└── geojson/
    └── seoul_districts.geojson   # 서울시 자치구 GeoJSON
```

---

## 📝 예상 결과물

### 대시보드 1 출력 예시
```
흑백요리사2 방영일별 리뷰 증가율 (%)

셰프명           | 12/16 | 12/23 | 12/30 | 1/6  | 1/13
-----------------|-------|-------|-------|------|------
옥동식           | +25%  | +18%  | +12%  | +8%  | +15%
이타닉 가든      | +32%  | +22%  | +15%  | +10% | +20%
라망시크레       | +45%  | +28%  | +20%  | +12% | +18%
...
```

### 대시보드 2 출력 예시
```
[서울시 지도]
- 강남구: +15% (녹색)
- 마포구: +12% (연두색)
- 종로구: +8% (노란색)
- 용산구: +5% (회색)
...
```

---

## ⚠️ 주의사항

1. **데이터 한계**: 1월 13일 방영분의 7일 후 데이터는 1월 14일까지만 있음
2. **Unknown 리뷰**: 일부 리뷰에 "Unknown" 날짜 존재 → 제외 처리 필요
3. **유동인구 0값**: 일부 행정동에 VISITOR_COUNT=0 존재 → 데이터 정합성 확인 필요
4. **셰프 매핑**: reviews_collected와 캐치테이블_가게정보의 가게명 일치 여부 확인 필요
